{% extends 'core/base.html' %} 
{% block title %} De-Obfuscator {% endblock %} 

{% block content %}
  <h1>The De-Obfuscator page</h1>

  <form class="center" method="post" enctype="multipart/form-data" action="{% url 'upload_obfuscated_file' %}">
    {% csrf_token %}

    <div class="file-upload flex flex-col items-center">
      <!-- First Choose File input -->
      <label for="image">Choose Obfuscated File:</label>
      <input type="file" name="image" id="image" accept=".jpg, .jpeg, .png">
      <br>

      <!-- Single Upload button -->
      <button class="px-4 py-4 text-lg font-semibold bg-teal-500 text-white rounded-xl hover:bg-teal-700" type="submit">Upload</button>
    </div>
  </form>

  {% if deobfuscation_successful %}
    <div>
      <!-- Download button for de-obfuscated image -->
      <a href="{% url 'download_deobfuscated_image' %}" class="download-button">Download De-Obfuscated Image</a>
    </div>
    <div>
      <!-- Download button for de-obfuscated executable -->
      <a href="{% url 'download_deobfuscated_executable' %}" class="download-button">Download De-Obfuscated Executable</a>
    </div>
  {% endif %}
{% endblock %}
